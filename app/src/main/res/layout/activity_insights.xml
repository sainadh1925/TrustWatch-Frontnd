<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F8F9FE">

    <!-- Header -->
    <TextView
        android:id="@+id/tvHeader"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginStart="24dp"
        android:layout_marginTop="24dp"
        android:text="Insights"
        android:textColor="#1A1C1E"
        android:textSize="28sp"
        android:textStyle="bold"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        app:layout_constraintBottom_toTopOf="@id/bottom_nav_bar"
        app:layout_constraintTop_toBottomOf="@id/tvHeader">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:paddingBottom="80dp">

            <!-- Circular Chart Area -->
            <View
                android:id="@+id/bgCircle"
                android:layout_width="200dp"
                android:layout_height="200dp"
                android:layout_marginTop="24dp"
                android:background="@drawable/bg_circle_gradient_light"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <!-- Chart Bars (Mock UI) -->
            <View
                android:layout_width="4dp"
                android:layout_height="40dp"
                android:background="#5669FF"
                app:layout_constraintBottom_toBottomOf="@id/bgCircle"
                app:layout_constraintEnd_toEndOf="@id/bgCircle"
                app:layout_constraintHorizontal_bias="0.4"
                app:layout_constraintStart_toStartOf="@id/bgCircle"
                app:layout_constraintTop_toTopOf="@id/bgCircle"
                app:layout_constraintVertical_bias="0.6" />

            <View
                android:layout_width="4dp"
                android:layout_height="60dp"
                android:background="#5669FF"
                android:layout_marginStart="16dp"
                app:layout_constraintBottom_toBottomOf="@id/bgCircle"
                app:layout_constraintEnd_toEndOf="@id/bgCircle"
                app:layout_constraintStart_toStartOf="@id/bgCircle"
                app:layout_constraintTop_toTopOf="@id/bgCircle"
                app:layout_constraintVertical_bias="0.55" />

            <View
                android:layout_width="4dp"
                android:layout_height="30dp"
                android:background="#5669FF"
                android:layout_marginEnd="16dp"
                app:layout_constraintBottom_toBottomOf="@id/bgCircle"
                app:layout_constraintEnd_toEndOf="@id/bgCircle"
                app:layout_constraintStart_toStartOf="@id/bgCircle"
                app:layout_constraintTop_toTopOf="@id/bgCircle"
                app:layout_constraintVertical_bias="0.62" />

             <!-- Floating Blue Button on Chart -->
            <ImageView
                android:layout_width="48dp"
                android:layout_height="48dp"
                android:background="@drawable/bg_circle_blue_solid"
                android:padding="12dp"
                android:src="@drawable/ic_trend_up"
                app:tint="#FFFFFF"
                app:layout_constraintEnd_toEndOf="@id/bgCircle"
                app:layout_constraintTop_toTopOf="@id/bgCircle"
                android:elevation="8dp"
                android:translationX="10dp"
                android:translationY="-10dp" />


            <!-- Stats Row -->
            <LinearLayout
                android:id="@+id/statsRow"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="32dp"
                android:paddingHorizontal="16dp"
                android:orientation="horizontal"
                app:layout_constraintTop_toBottomOf="@id/bgCircle">

                <!-- Card 1 -->
                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/bg_card_surface"
                    android:gravity="center"
                    android:orientation="vertical"
                    android:padding="16dp"
                    android:layout_marginEnd="8dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Total Scans"
                        android:textSize="12sp"
                        android:textColor="#8F92A1" />

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="1,248"
                        android:textSize="20sp"
                        android:textStyle="bold"
                        android:textColor="#1A1C1E"
                        android:layout_marginTop="4dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="+12%"
                        android:textSize="12sp"
                        android:textColor="#00C853"
                        android:layout_marginTop="4dp"/>
                </LinearLayout>

                <!-- Card 2 -->
                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/bg_card_surface"
                    android:gravity="center"
                    android:orientation="vertical"
                    android:padding="16dp"
                    android:layout_marginHorizontal="4dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Threats\nBlocked"
                        android:gravity="center"
                        android:textSize="12sp"
                        android:textColor="#8F92A1" />

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="14"
                        android:textSize="20sp"
                        android:textStyle="bold"
                        android:textColor="#1A1C1E"
                        android:layout_marginTop="4dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="-2%"
                        android:textSize="12sp"
                        android:textColor="#00C853"
                        android:layout_marginTop="4dp"/>
                </LinearLayout>

                <!-- Card 3 -->
                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/bg_card_surface"
                    android:gravity="center"
                    android:orientation="vertical"
                    android:padding="16dp"
                    android:layout_marginStart="8dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Accuracy"
                        android:textSize="12sp"
                        android:textColor="#8F92A1" />

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="99.8%"
                        android:textSize="20sp"
                        android:textStyle="bold"
                        android:textColor="#1A1C1E"
                        android:layout_marginTop="4dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="+0.1%"
                        android:textSize="12sp"
                        android:textColor="#00C853"
                        android:layout_marginTop="4dp"/>
                </LinearLayout>

            </LinearLayout>

            <!-- Grid Items -->
            <GridLayout
                android:id="@+id/gridMenu"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:columnCount="2"
                android:padding="16dp"
                app:layout_constraintTop_toBottomOf="@id/statsRow">

                <!-- Item 1: Attack Trends -->
                <LinearLayout
                    android:id="@+id/btnAttackTrends"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:background="@drawable/bg_card_surface"
                    android:gravity="center"
                    android:orientation="vertical"
                    android:padding="24dp"
                    android:layout_marginEnd="8dp"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:background="@drawable/bg_circle_blue_light"
                        android:padding="12dp"
                        android:src="@drawable/ic_trend_up"
                        app:tint="#5669FF" />

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Attack Trends"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="#1A1C1E"
                        android:layout_marginTop="12dp"/>
                </LinearLayout>
                
                 <!-- Item 2: Threat Distribution -->
                <LinearLayout
                    android:id="@+id/btnThreatDistribution"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:background="@drawable/bg_card_surface"
                    android:gravity="center"
                    android:orientation="vertical"
                    android:padding="24dp"
                    android:layout_marginStart="8dp"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:background="@drawable/bg_circle_purple_light"
                        android:padding="12dp"
                        android:src="@drawable/ic_history" 
                        app:tint="#A06AF9"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Threat\nDistribution"
                         android:gravity="center"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="#1A1C1E"
                        android:layout_marginTop="12dp"/>
                </LinearLayout>

                <!-- Item 3: Language Analysis -->
                <LinearLayout
                    android:id="@+id/btnLanguageAnalysis"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:background="@drawable/bg_card_surface"
                    android:gravity="center"
                    android:orientation="vertical"
                    android:padding="24dp"
                    android:layout_marginEnd="8dp"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:background="@drawable/bg_circle_green_light"
                        android:padding="12dp"
                        android:src="@drawable/ic_globe"
                        app:tint="#00C853" />

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Language\nAnalysis"
                         android:gravity="center"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="#1A1C1E"
                        android:layout_marginTop="12dp"/>
                </LinearLayout>

                 <!-- Item 4: AI Accuracy -->
                <LinearLayout
                    android:id="@+id/btnAiAccuracy"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:background="@drawable/bg_card_surface"
                    android:gravity="center"
                    android:orientation="vertical"
                    android:padding="24dp"
                    android:layout_marginStart="8dp"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:background="@drawable/bg_circle_orange_light"
                        android:padding="12dp"
                        android:src="@drawable/ic_check_circle"
                        app:tint="#FFAB00" />

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="AI Accuracy"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="#1A1C1E"
                        android:layout_marginTop="12dp"/>
                </LinearLayout>
                
                 <!-- Item 5: Export (Full Width) -->
                 <!-- Wait, design shows it as another item? No, looks like a large card below grid or part of grid? Design shows it as a single card. I will make it full width or similar. Actually looking at image, it's just another card in the vertical list flow if we treat it that way. But key is 2x2 grid. Let's add Export below. -->

            </GridLayout>
            
             <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@drawable/bg_card_surface"
                    android:gravity="center_vertical"
                    android:orientation="horizontal"
                    android:padding="24dp"
                    android:layout_marginHorizontal="16dp"
                    app:layout_constraintTop_toBottomOf="@id/gridMenu">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:background="#F2F3F5" 
                        android:padding="12dp"
                        android:src="@drawable/ic_history"
                        app:tint="#8F92A1" />
                        <!-- Using history as generic doc icon for now -->

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Export Reports"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="#1A1C1E"
                        android:layout_marginStart="16dp"/>
            </LinearLayout>


            <!-- Did you know card -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="@drawable/bg_card_blue_gradient"
                android:orientation="vertical"
                android:padding="20dp"
                android:layout_margin="16dp"
                android:elevation="4dp"
                app:layout_constraintTop_toBottomOf="@+id/gridMenu"
                android:layout_marginTop="100dp"> 
                <!-- Constraint to bottom of scroll -->

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Did you know?"
                    android:textColor="#FFFFFF"
                    android:textStyle="bold"
                    android:textSize="16sp" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Most phishing attacks occur on Tuesday mornings between 9 AM and 11 AM local time."
                    android:textColor="#E0E0E0"
                    android:textSize="14sp"
                    android:layout_marginTop="8dp"
                    android:lineSpacingExtra="4dp"/>
            </LinearLayout>

        </androidx.constraintlayout.widget.ConstraintLayout>
    </ScrollView>

    <!-- Bottom Navigation Bar (Custom) -->
    <LinearLayout
        android:id="@+id/bottom_nav_bar"
        android:layout_width="match_parent"
        android:layout_height="60dp"
        app:layout_constraintBottom_toBottomOf="parent"
        android:background="#FFFFFF"
        android:elevation="8dp"
        android:gravity="center"
        android:orientation="horizontal">

        <TextView
            android:id="@+id/nav_btn_home"
            android:text="Home"
            android:textColor="#5669FF"
            android:textSize="10sp"
            android:gravity="center"
            android:drawableTop="@drawable/ic_home"
            android:drawableTint="#8F92A1"
            android:layout_weight="1"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:clickable="true"
            android:focusable="true"
            android:background="?attr/selectableItemBackground"/>

        <TextView
            android:id="@+id/nav_btn_scan"
            android:text="Scan"
            android:textColor="#8F92A1"
            android:textSize="10sp"
            android:gravity="center"
            android:drawableTop="@drawable/ic_eye"
            android:drawableTint="#8F92A1"
            android:layout_weight="1"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:clickable="true"
            android:focusable="true"
            android:background="?attr/selectableItemBackground"/>

        <TextView
            android:id="@+id/nav_btn_threats"
            android:text="Threats"
            android:textColor="#8F92A1"
            android:textSize="10sp"
            android:gravity="center"
            android:drawableTop="@drawable/ic_shield"
            android:drawableTint="#8F92A1"
            android:layout_weight="1"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:clickable="true"
            android:focusable="true"
            android:background="?attr/selectableItemBackground"/>

        <TextView
            android:id="@+id/nav_btn_insights"
            android:text="Insights"
            android:textColor="#5669FF"
            android:textSize="10sp"
            android:gravity="center"
            android:drawableTop="@drawable/ic_trend_up"
            android:drawableTint="#5669FF"
            android:layout_weight="1"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:clickable="true"
            android:focusable="true"
            android:background="?attr/selectableItemBackground"/>

        <TextView
            android:id="@+id/nav_btn_profile"
            android:text="Profile"
            android:textColor="#8F92A1"
            android:textSize="10sp"
            android:gravity="center"
            android:drawableTop="@drawable/ic_person"
            android:drawableTint="#8F92A1"
            android:layout_weight="1"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:clickable="true"
            android:focusable="true"
            android:background="?attr/selectableItemBackground"/>

    </LinearLayout>

</androidx.constraintlayout.widget.ConstraintLayout>
